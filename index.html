<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PID Controller Demo</title>
    <meta name="description" content="Explore the fundamentals of PID controllers with interactive simulations and deep dive into control systems concepts.">
    <meta name="keywords" content="PID controller, control systems, interactive simulation, deep dive, control theory, engineering, tutorial">
    <meta name="author" content="Julian Winking">
    <link rel="stylesheet" href="css/style.css">
    <meta property="og:url" content="https://winki.ng/projects/pid-demo/"/>
    <meta property="og:type" content="website"/>
</head>
<body>
    <div class="main-container">
        <div class="sidebar">
            <h1>PID Controller Demo</h1>
            <p>Welcome to the PID Controller Demo! Dive into the world of control systems and explore how PID controllers work through interactive simulations. I built the tool the way it would have helped me understand control theory.</p>
            <ul>
                <li id="tutorial-btn" class="menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Question"><circle cx="12" cy="12" r="10"/><path d="M10 8.484C10.5 7.494 11 7 12 7c1.246 0 2 .989 2 1.978s-.5 1.483-2 2.473V13m0 3.5v.5"/></svg>
                    Tutorial
                </li>                
                <li id="model1-btn" class="menu-item active">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Circle"><circle cx="12" cy="12" r="10"/></svg>
                    Model 1
                </li>
                <li id="model2-btn" class="menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-TriangleUp"><path d="M12 7l-6 8h12l-6-8z"/></svg>
                    Model 2
                </li>
                <li id="deepdive-btn" class="menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-BookOpen"><path d="M2 6s1.5-2 5-2 5 2 5 2v14s-1.5-1-5-1-5 1-5 1V6z"/><path d="M12 6s1.5-2 5-2 5 2 5 2v14s-1.5-1-5-1-5 1-5 1V6z"/></svg>
                    Deep Dive
                </li>
                <li id="source-code-btn" class="menu-item">
                    <a href="https://github.com/julianwinking/pid-demo" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Code"><path d="M16 18l6-6-6-6M8 6l-6 6 6 6"/></svg>
                        Source Code
                    </a>
                </li>
                <li id="feedback-btn" class="menu-item">
                    <a href="mailto:julian.winking@gmail.com?subject=Feedback%20PID%20Demo&body=Hi%20Julian,">
                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Envelope"><path d="M2 6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6z"/><path d="M2 8l7.501 6.001a4 4 0 0 0 4.998 0L22 8"/></svg>
                        Feedback
                    </a>
                </li>
            </ul>
            <div class="footer">
                <p>&copy; 2025 Julian Winking</p>
            </div>
        </div>
        <div id="model1" style="display: flex;">
            <div id="model1-sidebar" class="sub-sidebar">
                <h2>Model 1 Controls</h2>
                <h3>Controller</h3>
                <div>
                    <div class="label-container">
                        <label for="kp">Kp:</label>
                        <a href="#" class="info-link" data-target="kp-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="kp" min="0" max="10" step="0.1" value="1.0">
                        <span id="kp-value" class="slider-value">1.0</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="ki">Ki:</label>
                        <a href="#" class="info-link" data-target="ki-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="ki" min="0" max="10" step="0.1" value="0.1">
                        <span id="ki-value" class="slider-value">0.1</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="kd">Kd:</label>
                        <a href="#" class="info-link" data-target="kd-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="kd" min="0" max="10" step="0.1" value="0.01">
                        <span id="kd-value" class="slider-value">0.01</span>
                    </div>
                </div>
                <h3>Object</h3>
                <div>
                    <div class="label-container">
                        <label for="mass">Mass:</label>
                        <a href="#" class="info-link" data-target="mass-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="mass" min="1" max="20" step="0.1" value="5">
                        <span id="mass-value" class="slider-value">5</span>
                    </div>
                </div>
                <h3>Target</h3>
                <div>
                    <div class="label-container">
                        <label for="target">Target:</label>
                        <a href="#" class="info-link" data-target="target-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="target" min="0" max="800" step="1" value="400">
                        <span id="target-value" class="slider-value">400</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="amplitude">Amplitude:</label>
                        <a href="#" class="info-link" data-target="amplitude-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="amplitude" min="0" max="100" step="1" value="50">
                        <span id="amplitude-value" class="slider-value">50</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="frequency">Frequency:</label>
                        <a href="#" class="info-link" data-target="frequency-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="frequency" min="0" max="1.5" step="0.05" value="0.1">
                        <span id="frequency-value" class="slider-value">0.1</span>
                    </div>
                </div>
                <h3>Noise</h3>
                <div>
                    <div class="label-container">
                        <label for="noise">Noise:</label>
                        <a href="#" class="info-link" data-target="noise-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="noise" min="0" max="10" step="0.1" value="0">
                        <span id="noise-value" class="slider-value">0</span>
                    </div>
                </div>
                <button id="reset-button">Reset</button>
            </div>
            <div id="simulation-container" class="container">
                <canvas id="canvas" width="800" height="500"></canvas>
                <canvas id="pid-chart" width="800" height="200"></canvas>
                <div id="analytics-container">
                    <div id="nyquist-plot" style="width: 100%; height: 300px;"></div> <!-- Ortskurve -->
                    <div id="bode-plot" style="width: 100%; height: 300px;"></div> <!-- Bode-Diagramm -->
                </div>
            </div>
        </div>

        <div id="model2" style="display: none;">
            <div id="model2-sidebar" class="sub-sidebar">
                <h2>Model 2 Controls</h2>
                <h3>Controller</h3>
                <div>
                    <div class="label-container">
                        <label for="kp2">Kp:</label>
                        <a href="#" class="info-link" data-target="kp-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="kp2" min="0" max="10" step="0.1" value="1.0">
                        <span id="kp2-value" class="slider-value">1.0</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="ki2">Ki:</label>
                        <a href="#" class="info-link" data-target="ki-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="ki2" min="0" max="10" step="0.1" value="0.1">
                        <span id="ki2-value" class="slider-value">0.1</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="kd2">Kd:</label>
                        <a href="#" class="info-link" data-target="kd-info">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Info"><circle cx="12" cy="12" r="10"/><path d="M12 7h.01"/><path d="M10 11h2v5"/><path d="M10 16h4"/></svg>
                        </a>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="kd2" min="0" max="10" step="0.1" value="0.01">
                        <span id="kd2-value" class="slider-value">0.01</span>
                    </div>
                </div>
                <button id="reset-button">Reset</button>
            </div>
            <div id="simulation-container" class="container">
                <h2>Model 2 is coming soon</h2>
                <canvas id="canvas2" width="800" height="500"></canvas>
                <canvas id="pid-chart2" width="800" height="250"></canvas>
            </div>
        </div>

        <div id="deepdive" style="display: none;">
            <div id="deepdive-sidebar" class="sub-sidebar">
                <h2>Knowledge Wiki</h2>
                <ul id="deepdive-navigation">
                    <li class="clickable" data-target="introduction-section">Introduction</li>
                    <li class="clickable" data-target="controllers-section">Controllers</li>
                    <li class="clickable" data-target="kp-info">Proportional Gain (Kp)</li>
                    <li class="clickable" data-target="ki-info">Integral Gain (Ki)</li>
                    <li class="clickable" data-target="kd-info">Derivative Gain (Kd)</li>
                    <li class="clickable" data-target="mass-info">Mass</li>
                    <li class="clickable" data-target="target-info">Target</li>
                    <li class="clickable" data-target="amplitude-info">Amplitude</li>
                    <li class="clickable" data-target="frequency-info">Frequency</li>
                    <li class="clickable" data-target="noise-info">Noise</li>
                    <li class="clickable" data-target="nyquist-info">Nyquist Plot</li>
                    <li class="clickable" data-target="bode-info">Bode Plot</li>
                    <li class="clickable" data-target="stability-info">Stability</li>
                </ul>
            </div>
            <div id="deepdive-container" class="container">
                <div id="introduction-section" style="display: none;">
                    <h2>Introduction to Control Systems</h2>
                    <p>Control systems are used to manage, command, direct, or regulate the behavior of other devices or systems using control loops...</p>
                </div>
                <div id="controllers-section" style="display: none;">
                    <h2>Types of Controllers</h2>
                    <p>Controllers are devices that manage the behavior of other devices or systems...</p>
                </div>
                <div id="kp-info" style="display: none;">
                    <h2>Proportional Gain (Kp)</h2>
                    <p>The proportional gain (Kp) determines how strongly the controller reacts to the current error...</p>
                </div>
                <div id="ki-info" style="display: none;">
                    <h2>Integral Gain (Ki)</h2>
                    <p>The integral gain (Ki) accumulates the error over time, helping to eliminate steady-state error...</p>
                </div>
                <div id="kd-info" style="display: none;">
                    <h2>Derivative Gain (Kd)</h2>
                    <p>The derivative gain (Kd) predicts future error based on its rate of change...</p>
                </div>
                <div id="mass-info" style="display: none;">
                    <h2>Mass</h2>
                    <p>The mass parameter represents the object's mass in the simulation...</p>
                </div>
                <div id="target-info" style="display: none;">
                    <h2>Target</h2>
                    <p>The target parameter defines the desired setpoint for the system...</p>
                </div>
                <div id="amplitude-info" style="display: none;">
                    <h2>Amplitude</h2>
                    <p>The amplitude parameter determines the magnitude of oscillations or disturbances applied to the system...</p>
                </div>
                <div id="frequency-info" style="display: none;">
                    <h2>Frequency</h2>
                    <p>The frequency parameter specifies the rate of oscillations or disturbances applied to the system...</p>
                </div>
                <div id="noise-info" style="display: none;">
                    <h2>Noise</h2>
                    <p>The noise parameter adds random variations to the system, simulating real-world disturbances...</p>
                </div>
                <div id="nyquist-info" style="display: none;">
                    <h2>Nyquist Plot</h2>
                    <p>The Nyquist plot is a graphical representation of a system's frequency response. It is used to assess the stability of a control system by analyzing the encirclement of the critical point (-1, 0) in the complex plane.</p>
                </div>
                <div id="bode-info" style="display: none;">
                    <h2>Bode Plot</h2>
                    <p>The Bode plot is a graphical representation of a system's frequency response. It consists of two plots: magnitude (in dB) versus frequency and phase (in degrees) versus frequency, both on a logarithmic scale.</p>
                </div>
                <div id="stability-info" style="display: none;">
                    <h2>Stability</h2>
                    <p>Stability in control systems refers to the ability of a system to return to equilibrium after a disturbance. Stability analysis ensures that the system behaves predictably and does not exhibit unbounded oscillations.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="tutorial-popup" class="popup" style="display: none;">
        <div class="popup-content">
            <span class="close-btn">&times;</span>
            <h2>Tutorial</h2><br>
            <p>This is a tutorial popup.</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script> <!-- Aktualisierte Version -->
    <script src="https://cdn.jsdelivr.net/npm/mathjs/lib/browser/math.min.js"></script>
    <script src="js/pid-controller-model1.js"></script>
    <script src="js/pid-controller-model2.js"></script> <!-- Include Model 2 controller -->
    <script src="js/bode-plot.js"></script>
    <script src="js/main.js"></script> <!-- Ensure this is included last -->
</body>
</html>