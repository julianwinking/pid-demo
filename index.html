<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PID Controller Demo</title>
    <meta name="description" content="Explore the fundamentals of PID controllers with interactive simulations and deep dive into control systems concepts.">
    <meta name="keywords" content="PID controller, control systems, interactive simulation, deep dive, control theory, engineering">
    <meta name="author" content="Julian Winking">
    <link rel="stylesheet" href="css/style.css">
    <meta property="og:url" content="https://winki.ng/projects/pid-demo/"/>
    <meta property="og:type" content="website"/>
</head>
<body>
    <div class="main-container">
        <div class="sidebar">
            <h1>PID Controller Demo</h1>
            <p>Explore the principles of PID controllers and their role in control systems through this interactive demo. This tool is designed to help you visualize and understand key concepts in control theory with hands-on simulations.</p>
            <ul>
                <li id="model1-btn" class="menu-item active">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Circle"><circle cx="12" cy="12" r="10"/></svg>
                    Model 1
                </li>
                <li id="model2-btn" class="menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-TriangleUp"><path d="M12 7l-6 8h12l-6-8z"/></svg>
                    Model 2
                </li>
                
                <li id="source-code-btn" class="menu-item">
                    <a href="https://github.com/julianwinking/pid-demo" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Code"><path d="M16 18l6-6-6-6M8 6l-6 6 6 6"/></svg>
                        Source Code
                    </a>
                </li>
                <li id="feedback-btn" class="menu-item">
                    <a href="mailto:julian.winking@gmail.com?subject=Feedback%20PID%20Demo&body=Hi%20Julian,">
                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ai ai-Envelope"><path d="M2 6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6z"/><path d="M2 8l7.501 6.001a4 4 0 0 0 4.998 0L22 8"/></svg>
                        Feedback
                    </a>
                </li>
            </ul>
            <div class="footer">
                <p>&copy; 2025 Julian Winking</p>
            </div>
        </div>
        <div id="model1" style="display: flex;">
            <div id="model1-sidebar" class="sub-sidebar">
                <h2>Model 1 Controls</h2>
                <h3>Controller</h3>
                <div>
                    <div class="label-container">
                        <label for="kp">Kp:</label>
                        <span class="info-icon" data-tooltip="Proportional gain: Higher values react stronger to current error, speeding up response but risking overshoot.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="kp" min="0" max="10" step="0.1" value="1.0">
                        <span id="kp-value" class="slider-value">1.0</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="ki">Ki:</label>
                        <span class="info-icon" data-tooltip="Integral gain: Eliminates steady-state error by accumulating past error; too high can cause oscillations (windup).">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="ki" min="0" max="10" step="0.1" value="0.1">
                        <span id="ki-value" class="slider-value">0.1</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="kd">Kd:</label>
                        <span class="info-icon" data-tooltip="Derivative gain: Damps changes by reacting to error rate; reduces overshoot but amplifies noise if too high.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="kd" min="0" max="10" step="0.1" value="0.01">
                        <span id="kd-value" class="slider-value">0.01</span>
                    </div>
                </div>
                <h3>Object</h3>
                <div>
                    <div class="label-container">
                        <label for="mass">Mass:</label>
                        <span class="info-icon" data-tooltip="Inertia of the object: Higher mass slows response and requires more control effort.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="mass" min="1" max="20" step="0.1" value="5">
                        <span id="mass-value" class="slider-value">5</span>
                    </div>
                </div>
                <h3>Target</h3>
                <div>
                    <div class="label-container">
                        <label for="target">Target:</label>
                        <span class="info-icon" data-tooltip="Desired setpoint the controller tries to reach and hold.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="target" min="0" max="800" step="1" value="400">
                        <span id="target-value" class="slider-value">400</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="amplitude">Amplitude:</label>
                        <span class="info-icon" data-tooltip="Strength of external disturbance applied in the simulation.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="amplitude" min="0" max="100" step="1" value="50" title="Amplitude: Strength of external disturbance applied in the simulation.">
                        <span id="amplitude-value" class="slider-value">50</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="frequency">Frequency:</label>
                        <span class="info-icon" data-tooltip="How fast the disturbance oscillates; tests the system's high-frequency response.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="frequency" min="0" max="1.5" step="0.05" value="0.1">
                        <span id="frequency-value" class="slider-value">0.1</span>
                    </div>
                </div>
                <h3>Noise</h3>
                <div>
                    <div class="label-container">
                        <label for="noise">Noise:</label>
                        <span class="info-icon" data-tooltip="Random measurement disturbance; higher values make control noisier.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="noise" min="0" max="10" step="0.1" value="0">
                        <span id="noise-value" class="slider-value">0</span>
                    </div>
                </div>
                <button id="reset-button">Reset</button>
            </div>
            <div id="simulation-container" class="container">
                <canvas id="canvas" width="800" height="500"></canvas>
                <canvas id="pid-chart" width="800" height="200"></canvas>
                <div id="analytics-container">
                    <div id="nyquist-plot" style="width: 100%; height: 300px;"></div> <!-- Ortskurve -->
                    <div id="bode-plot" style="width: 100%; height: 300px;"></div> <!-- Bode-Diagramm -->
                </div>
            </div>
        </div>

        <div id="model2" style="display: none;">
            <div id="model2-sidebar" class="sub-sidebar">
                <h2>Model 2 Controls</h2>
                <h3>Controller</h3>
                <div>
                    <div class="label-container">
                        <label for="kp2">Kp:</label>
                        <span class="info-icon" data-tooltip="Proportional gain. Higher values react stronger to current error, speeding up response but risking overshoot.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="kp2" min="0" max="10" step="0.1" value="1.0">
                        <span id="kp2-value" class="slider-value">1.0</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="ki2">Ki:</label>
                        <span class="info-icon" data-tooltip="Integral gain. Eliminates steady-state error by accumulating past error; too high can cause oscillations (windup).">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="ki2" min="0" max="10" step="0.1" value="0.1">
                        <span id="ki2-value" class="slider-value">0.1</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="kd2">Kd:</label>
                        <span class="info-icon" data-tooltip="Derivative gain. Damps changes by reacting to error rate; reduces overshoot but amplifies noise if too high.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="kd2" min="0" max="10" step="0.1" value="0.01">
                        <span id="kd2-value" class="slider-value">0.01</span>
                    </div>
                </div>
                <h3>Object</h3>
                <div>
                    <div class="label-container">
                        <label for="mass2">Mass:</label>
                        <span class="info-icon" data-tooltip="Simulated inertia. Higher mass makes the ball accelerate slower for the same beam angle.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="mass2" min="1" max="20" step="0.1" value="5">
                        <span id="mass2-value" class="slider-value">5</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="beamInertia">Beam Inertia:</label>
                        <span class="info-icon" data-tooltip="Resistance of the beam to rotation. Higher inertia causes the beam to react slower to control signals.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="beamInertia" min="1" max="100" step="1" value="10">
                        <span id="beamInertia-value" class="slider-value">10</span>
                    </div>
                </div>
                <h3>Target</h3>
                <div>
                    <div class="label-container">
                        <label for="target2">Target:</label>
                        <span class="info-icon" data-tooltip="Desired position on the beam (0 is center).">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="target2" min="-200" max="200" step="1" value="0">
                        <span id="target2-value" class="slider-value">0</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="amplitude2">Amplitude:</label>
                        <span class="info-icon" data-tooltip="Strength of external disturbance applied in the simulation.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="amplitude2" min="0" max="100" step="1" value="0">
                        <span id="amplitude2-value" class="slider-value">0</span>
                    </div>
                </div>
                <div>
                    <div class="label-container">
                        <label for="frequency2">Frequency:</label>
                        <span class="info-icon" data-tooltip="How fast the disturbance oscillates.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="frequency2" min="0" max="1.5" step="0.05" value="0.1">
                        <span id="frequency2-value" class="slider-value">0.1</span>
                    </div>
                </div>
                <h3>Noise</h3>
                <div>
                    <div class="label-container">
                        <label for="noise2">Noise:</label>
                        <span class="info-icon" data-tooltip="Random measurement disturbance.">i</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="noise2" min="0" max="10" step="0.1" value="0">
                        <span id="noise2-value" class="slider-value">0</span>
                    </div>
                </div>
                <button id="reset-button2">Reset</button>
            </div>
            <div id="simulation-container2" class="container">
                <canvas id="canvas2" width="800" height="500"></canvas>
                <canvas id="pid-chart2" width="800" height="250"></canvas>
                <div id="analytics-container2">
                    <div id="nyquist-plot2" style="width: 100%; height: 300px;"></div>
                    <div id="bode-plot2" style="width: 100%; height: 300px;"></div>
                </div>
            </div>
        </div>

        
    </div>

    

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script> <!-- Aktualisierte Version -->
    <script src="https://cdn.jsdelivr.net/npm/mathjs/lib/browser/math.min.js"></script>
    <script src="js/pid-controller-model1.js"></script>
    <script src="js/pid-controller-model2.js"></script> <!-- Include Model 2 controller -->
    <script src="js/bode-plot.js"></script>
    <script src="js/main.js"></script> <!-- Ensure this is included last -->
</body>
</html>